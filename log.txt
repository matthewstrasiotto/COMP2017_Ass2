==7180== Memcheck, a memory error detector
==7180== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7180== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==7180== Command: ./a.out
==7180== 
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:0 to post idx: 0
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:1 to post idx: 1
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:2 to post idx: 2
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:3 to post idx: 3
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:4 to post idx: 4
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:5 to post idx: 5
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:6 to post idx: 6
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:7 to post idx: 7
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:8 to post idx: 8
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:9 to post idx: 9
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:10 to post idx: 10
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:11 to post idx: 11
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:12 to post idx: 12
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:13 to post idx: 13
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:14 to post idx: 14
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:15 to post idx: 15
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:16 to post idx: 16
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:17 to post idx: 17
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:18 to post idx: 18
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:19 to post idx: 19
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 2
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (2) at idx 2
T:0|File:         mine.c|Ln:124|Fn:     work_on_segment|D|Work is done, @ 2
T:0|File:         mine.c|Ln:159|Fn:find_all_reposts_wrapper|D|Discerned index: 2
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 2 being added, with 5 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 4 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 6 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 7 being added, with 3 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 10 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 11 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 15 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 17 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 13 being added, with 0 children
T:0|File:         mine.c|Ln:375|Fn:            BFS_work|D|Found 9 results!
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 9 vs actual 9
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 7
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (7) at idx 7
T:0|File:         mine.c|Ln:124|Fn:     work_on_segment|D|Work is done, @ 7
T:0|File:         mine.c|Ln:159|Fn:find_all_reposts_wrapper|D|Discerned index: 7
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 7 being added, with 3 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 15 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 17 being added, with 0 children
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 13 being added, with 0 children
T:0|File:         mine.c|Ln:375|Fn:            BFS_work|D|Found 4 results!
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 4 vs actual 4
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 1
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (1) at idx 1
T:0|File:         mine.c|Ln:124|Fn:     work_on_segment|D|Work is done, @ 1
T:0|File:         mine.c|Ln:159|Fn:find_all_reposts_wrapper|D|Discerned index: 1
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
T:0|File:         mine.c|Ln:397|Fn: find_reposts_worker|V|Post 1 being added, with 0 children
T:0|File:         mine.c|Ln:375|Fn:            BFS_work|D|Found 1 results!
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 1 vs actual 1
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 18446744073709551516
T:0|File:         mine.c|Ln:154|Fn:find_all_reposts_wrapper|D|Never found original, cleaning up and LEAVING !
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 0 vs actual 0
T:0|File:common/properties.c|Ln: 20|Fn:      teardown_users|E|Null pointer given !
[  PASSED  ] 4 test(s).
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:0 to post idx: 0
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:1 to post idx: 1
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:2 to post idx: 2
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:3 to post idx: 3
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:4 to post idx: 4
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:5 to post idx: 5
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:6 to post idx: 6
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:7 to post idx: 7
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:8 to post idx: 8
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:9 to post idx: 9
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:10 to post idx: 10
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:11 to post idx: 11
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:12 to post idx: 12
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:13 to post idx: 13
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:14 to post idx: 14
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:15 to post idx: 15
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:16 to post idx: 16
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:17 to post idx: 17
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:18 to post idx: 18
T:0|File:  common/test.c|Ln: 90|Fn:     example_1_posts|V|Setting id of:19 to post idx: 19
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 2
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (2) at idx 2
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 1 vs actual 1
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 4
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (4) at idx 4
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 1 vs actual 1
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 18446744073709551516
T:0|File:         mine.c|Ln:199|Fn:find_original_wrapper|D|Didn't find id 18446744073709551516 anywhere! :(
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 0 vs actual 0
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 13
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (13) at idx 13
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 1 vs actual 1
T:0|File:  common/test.c|Ln:198|Fn:post_query_test_helper|D|Testing with 1
T:0|File:         mine.c|Ln:322|Fn:           post_comp|D|Found the desired ID (1) at idx 1
T:0|File:  common/test.c|Ln:180|Fn:compare_results_test_helper|D|Check expected element size: 1 vs actual 1
T:0|File:common/properties.c|Ln: 20|Fn:      teardown_users|E|Null pointer given !
[  PASSED  ] 5 test(s).
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (3) at idx 0
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (1) at idx 2
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
==7180== Invalid read of size 8
==7180==    at 0x10A157: shortest_user_link_worker (mine.c:451)
==7180==    by 0x109B54: BFS_work (mine.c:349)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x5633170 is 32 bytes before a block of size 48 in arena "client"
==7180== 
==7180== Invalid read of size 8
==7180==    at 0x10A167: shortest_user_link_worker (mine.c:452)
==7180==    by 0x109B54: BFS_work (mine.c:349)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x5633168 is 24 bytes after a block of size 1,120 in arena "client"
==7180== 
==7180== Invalid read of size 8
==7180==    at 0x10A177: shortest_user_link_worker (mine.c:453)
==7180==    by 0x109B54: BFS_work (mine.c:349)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x5633160 is 16 bytes after a block of size 1,120 alloc'd
==7180==    at 0x4C31B25: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7180==    by 0x10C69E: header_field (parse_csv.c:175)
==7180==    by 0x10C5EE: field_wrapper (parse_csv.c:156)
==7180==    by 0x10C447: read_any (parse_csv.c:105)
==7180==    by 0x4E3D47A: csv_parse (libcsv.c:388)
==7180==    by 0x10C176: init_from_header (parse_csv.c:46)
==7180==    by 0x10D277: read_example (parse_csv.c:399)
==7180==    by 0x10B3BC: shortest_path_example_1 (test.c:296)
==7180==    by 0x5046440: cmocka_run_one_test_or_fixture (cmocka.c:2621)
==7180==    by 0x5046569: cmocka_run_group_fixture (cmocka.c:2669)
==7180==    by 0x5046A90: _cmocka_run_group_tests (cmocka.c:2818)
==7180==    by 0x10A7CA: main (test.c:65)
==7180== 
==7180== Invalid read of size 8
==7180==    at 0x10A187: shortest_user_link_worker (mine.c:454)
==7180==    by 0x109B54: BFS_work (mine.c:349)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x5633158 is 8 bytes after a block of size 1,120 alloc'd
==7180==    at 0x4C31B25: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7180==    by 0x10C69E: header_field (parse_csv.c:175)
==7180==    by 0x10C5EE: field_wrapper (parse_csv.c:156)
==7180==    by 0x10C447: read_any (parse_csv.c:105)
==7180==    by 0x4E3D47A: csv_parse (libcsv.c:388)
==7180==    by 0x10C176: init_from_header (parse_csv.c:46)
==7180==    by 0x10D277: read_example (parse_csv.c:399)
==7180==    by 0x10B3BC: shortest_path_example_1 (test.c:296)
==7180==    by 0x5046440: cmocka_run_one_test_or_fixture (cmocka.c:2621)
==7180==    by 0x5046569: cmocka_run_group_fixture (cmocka.c:2669)
==7180==    by 0x5046A90: _cmocka_run_group_tests (cmocka.c:2818)
==7180==    by 0x10A7CA: main (test.c:65)
==7180== 
==7180== Invalid write of size 1
==7180==    at 0x10A1A6: shortest_user_link_worker (mine.c:456)
==7180==    by 0x109B54: BFS_work (mine.c:349)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x563a4b4 is 0 bytes after a block of size 20 alloc'd
==7180==    at 0x4C31B25: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7180==    by 0x1096EB: init_work_args (mine.c:267)
==7180==    by 0x1094B1: shortest_user_link_wrapper (mine.c:224)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180== 
T:0|File:         mine.c|Ln:458|Fn:shortest_user_link_worker|V|User 20 with 0 in and 0 out
==7180== Invalid read of size 8
==7180==    at 0x109C2C: BFS_work (mine.c:352)
==7180==    by 0x109605: shortest_user_link_wrapper (mine.c:249)
==7180==    by 0x10A43D: shortest_user_link (supergraph.c:26)
==7180==    by 0x10B89D: shortest_user_link_test_helper (test.c:381)
==7180==    by 0x10B495: test_path_example_1_unidir_triv (test.c:315)
==7180==    by 0x5046401: cmocka_run_one_test_or_fixture (cmocka.c:2616)
==7180==    by 0x50466AC: cmocka_run_one_tests (cmocka.c:2724)
==7180==    by 0x5046B71: _cmocka_run_group_tests (cmocka.c:2839)
==7180==    by 0x10A7CA: main (test.c:65)
==7180==  Address 0x4a0 is not stack'd, malloc'd or (recently) free'd
==7180== 
[  ERROR   ] --- Test failed with exception: Segmentation fault(11)
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (3) at idx 0
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (14) at idx 7
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
T:0|File:         mine.c|Ln:458|Fn:shortest_user_link_worker|V|User 20 with 0 in and 0 out
[  ERROR   ] --- Test failed with exception: Segmentation fault(11)
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (3) at idx 0
T:0|File:         mine.c|Ln:311|Fn:           user_comp|D|Found the desired ID (0) at idx 8
T:0|File:         mine.c|Ln:344|Fn:            BFS_work|D|Done flag: 0
T:0|File:         mine.c|Ln:458|Fn:shortest_user_link_worker|V|User 20 with 0 in and 0 out
[  ERROR   ] --- Test failed with exception: Segmentation fault(11)
[  PASSED  ] 0 test(s).
[  FAILED  ] 3 test(s), listed below:
[  FAILED  ] test_path_example_1_unidir_triv
[  FAILED  ] test_path_example_1_unidir_longer
[  FAILED  ] test_path_example_1_unidir_options

 3 FAILED TEST(S)
==7180== 
==7180== HEAP SUMMARY:
==7180==     in use at exit: 2,405 bytes in 60 blocks
==7180==   total heap usage: 362 allocs, 302 frees, 39,497 bytes allocated
==7180== 
==7180== LEAK SUMMARY:
==7180==    definitely lost: 696 bytes in 15 blocks
==7180==    indirectly lost: 1,709 bytes in 45 blocks
==7180==      possibly lost: 0 bytes in 0 blocks
==7180==    still reachable: 0 bytes in 0 blocks
==7180==         suppressed: 0 bytes in 0 blocks
==7180== Rerun with --leak-check=full to see details of leaked memory
==7180== 
==7180== For counts of detected and suppressed errors, rerun with: -v
==7180== ERROR SUMMARY: 18 errors from 6 contexts (suppressed: 0 from 0)
